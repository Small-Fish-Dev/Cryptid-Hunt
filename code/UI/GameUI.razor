@using Sandbox;
@using Sandbox.UI;
@inherits PanelComponent
@namespace CryptidHunt

<root>
</root>

@code
{
    public static GameUI Instance { get; private set; }

    protected override void OnStart()
    {
        base.OnStart();
        Instance = this;
    }

    public static void OpenNote( string text, bool handprint = false )
    {
        var note = Instance.Panel.AddChild<Note>();
        note.Text = text;
        note.Handprint = handprint;
    }

    public static void CloseNote()
    {
        foreach (var note in Instance.Panel.Children.OfType<Note>())
            note?.Delete();
    }

    public static void OpenZoneHint(string text, float lifeSpan = 5f)
    {
        var zoneHint = Instance.Panel.AddChild<ZoneHint>();
        zoneHint.Text = text;
        zoneHint.LifeSpan = lifeSpan;
    }

    public static void BlackScreen(float lifeSpan = 5f)
    {
        var blackScreen = Instance.Panel.AddChild<BlackScreen>();
        blackScreen.LifeSpan = lifeSpan;
    }

    protected override int BuildHash() => System.HashCode.Combine( Time.Now );

    [ConCmd("blackscreen")]
    public static void BlackScreenDebug()
    {
        BlackScreen();

    }
}
